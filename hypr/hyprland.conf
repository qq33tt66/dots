# ══════════════════════════════════════════════════════════════════════════════
#  HYPRLAND CONFIGURATION
#  Gruvbox Light Theme
# ══════════════════════════════════════════════════════════════════════════════

# ──────────────────────────────────────────────────────────────────────────────
#  MONITORS
# ──────────────────────────────────────────────────────────────────────────────

monitor = HDMI-A-1,1920x1080@120,0x0,1

# ──────────────────────────────────────────────────────────────────────────────
#  ENVIRONMENT VARIABLES
# ──────────────────────────────────────────────────────────────────────────────

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
env = MOZ_ENABLE_WAYLAND,1


# ──────────────────────────────────────────────────────────────────────────────
#  PROGRAMS
# ──────────────────────────────────────────────────────────────────────────────

$terminal =kitty 
$fileManager =kitty -e yazi


# ──────────────────────────────────────────────────────────────────────────────
#  AUTOSTART
# ──────────────────────────────────────────────────────────────────────────────

# System services
exec-once = systemctl --user start hyprpolkitagent
exec-once = hypridle
exec-once = hyprpaper

# Status bar and notifications
exec-once = waybar &
exec-once = swaync

# Utilities
exec-once = nm-applet --indicator
exec-once = wl-paste --watch cliphist store &


# ──────────────────────────────────────────────────────────────────────────────
#  GENERAL SETTINGS
# ──────────────────────────────────────────────────────────────────────────────

general {
    # Gaps
    gaps_in = 5
    gaps_out = 5

    # Borders
    border_size = 0
    col.active_border = rgba(458588ff)

    # Behavior
    resize_on_border = false
    allow_tearing = false

    # Layout
    layout = dwindle
}


# ──────────────────────────────────────────────────────────────────────────────
#  DECORATION
# ──────────────────────────────────────────────────────────────────────────────

decoration {
    # Rounding
    rounding = 0

    # Opacity
    active_opacity = 1
    inactive_opacity = 1

    # Shadows
    shadow {
        enabled = false
        range = 10
        render_power = 7
        color = rgba(1a1a1aee)
    }

    # Blur
    blur {
        enabled = false
        size = 5
        passes = 2
        vibrancy = 0.2696
    }
}


# ──────────────────────────────────────────────────────────────────────────────
#  ANIMATIONS
# ──────────────────────────────────────────────────────────────────────────────

animations {
    enabled = yes, please :)

    # Bezier curves
    bezier = easeOutQuint, 0.10, 1, 0.10, 1
    bezier = easeInOutCubic, 0.45, 0.05, 0.36, 1
    bezier = linear, 0, 0, 1, 1
    bezier = almostLinear, 0.5, 0.5, 0.75, 1.0
    bezier = quick, 0.15, 0, 0.1, 1

    # Animation speeds
    animation = global, 1, 7, default
    animation = border, 1, 3.8, easeOutQuint
    animation = windows, 1, 3.3, easeOutQuint
    animation = windowsIn, 1, 2.8, easeOutQuint, popin 87%
    animation = windowsOut, 1, 1.0, linear, popin 87%
    animation = fadeIn, 1, 1.2, almostLinear
    animation = fadeOut, 1, 1.0, almostLinear
    animation = fade, 1, 2.0, quick
    animation = layers, 1, 2.6, easeOutQuint
    animation = layersIn, 1, 2.8, easeOutQuint, fade
    animation = layersOut, 1, 1.0, linear, fade
    animation = fadeLayersIn, 1, 1.2, almostLinear
    animation = fadeLayersOut, 1, 1.0, almostLinear
    animation = workspaces, 1, 1.3, almostLinear, fade
    animation = workspacesIn, 1, 0.9, almostLinear, fade
    animation = workspacesOut, 1, 1.3, almostLinear, fade
}


# ──────────────────────────────────────────────────────────────────────────────
#  LAYOUTS
# ──────────────────────────────────────────────────────────────────────────────

# Dwindle layout
dwindle {
    pseudotile = true
    preserve_split = true
}

# Master layout
master {
    new_status = master
}


# ──────────────────────────────────────────────────────────────────────────────
#  INPUT SETTINGS
# ──────────────────────────────────────────────────────────────────────────────

input {
    # Keyboard
    kb_layout = us,us
    kb_model =
    kb_rules =
    repeat_delay = 250
    repeat_rate = 50

    # Mouse
    follow_mouse = 1
    sensitivity = 0

    # Touchpad
    touchpad {
        natural_scroll = false
    }
}


# ──────────────────────────────────────────────────────────────────────────────
#  GESTURES
# ──────────────────────────────────────────────────────────────────────────────

gestures {
}


# ──────────────────────────────────────────────────────────────────────────────
#  PER-DEVICE CONFIG
# ──────────────────────────────────────────────────────────────────────────────

device {
    name = epic-mouse-v1
    sensitivity = -0.5
}


# ──────────────────────────────────────────────────────────────────────────────
#  WINDOW GROUPS
# ──────────────────────────────────────────────────────────────────────────────

group {
    groupbar {
        font_family = "FiraCode Nerd Font"
        font_size=13

        # Gruvbox Light colors
        col.active = 0xFF458588      # Gruvbox blue
        col.inactive = 0x88FFFFFF    # Semi-transparent white
        text_color = 0xFF000000# Gruvboxji dark text

        # Rounding
        rounding = 2
        rounding_power = 0.9
    }
}


# ──────────────────────────────────────────────────────────────────────────────
#  MISC SETTINGS
# ──────────────────────────────────────────────────────────────────────────────

misc {
    force_default_wallpaper = -1
    disable_hyprland_logo = true
}


# ──────────────────────────────────────────────────────────────────────────────
#  WINDOW RULES
# ──────────────────────────────────────────────────────────────────────────────

# Fix XWayland dragging issues
windowrulev2 = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# Disable blur for performance
windowrulev2 = noblur, class:^(mpv)$
windowrulev2 = noblur, class:^(chrome|Chromium|Google-chrome)$

# Force opacity for specific applications
windowrulev2 = opaque, class:^(mpv)$
windowrulev2 = opaque, class:^(firefox)$
windowrulev2 = opaque, class:^(chrome|Chromium|Google-chrome)$


# ──────────────────────────────────────────────────────────────────────────────
#  KEYBINDINGS
# ──────────────────────────────────────────────────────────────────────────────

$mainMod = SUPER


# ── Application Launchers ─────────────────────────────────────────────────────

bind = $mainMod, return, exec, $terminal
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, B, exec, firefox


# ── Window Management ─────────────────────────────────────────────────────────

bind = $mainMod, Q, killactive,
bind = $mainMod, M, exit,
binde = $mainMod, V, togglefloating,
binde = $mainMod, F, fullscreen,
binde = $mainMod, Escape, exec, hyprctl kill


# ── Window Groups ─────────────────────────────────────────────────────────────

bind = $mainMod, G, togglegroup
binde = $mainMod, J, changegroupactive, f
bind = $mainMod, U, lockgroups, toggle


# ── Window Focus ──────────────────────────────────────────────────────────────

bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Cycle through floating windows
binde = SUPER, J, cyclenext,
binde = SUPER, J, bringactivetotop,


# ── Workspace Switching ───────────────────────────────────────────────────────

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10


# ── Move Window to Workspace ──────────────────────────────────────────────────

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10


# ── Special Workspace ─────────────────────────────────────────────────────────

bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic


# ── Mouse Workspace Navigation ────────────────────────────────────────────────

bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1


# ── Mouse Window Actions ──────────────────────────────────────────────────────

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


# ── System Controls ───────────────────────────────────────────────────────────

bind = $mainMod, L, exec, swaylock -C $HOME/.config/swaylock/swaylock.conf
bind = SUPER, W, exec, pkill waybar || waybar
bind = $mainMod, I, exec,


# ── Rofi Scripts ───────────────────────────────────────────────────────────


bind = $mainMod, Z, exec, ~/.config/rofi/scripts/powermenu.sh
bind = $mainMod, R, exec, ~/.config/rofi/scripts/rec.sh
bind = $mainMod, P, exec, ~/.config/rofi/scripts/passmenu.sh
bind = $mainMod, C, exec, cliphist list | rofi -dmenu -p "Clipboard" | cliphist decode | wl-copy
bind = $mainMod, D, exec, rofi -show drun
bind = $mainMod, T, exec, ~/.config/rofi/scripts/wallpaper_change.sh
bind = $mainMod, I, exec, ~/.config/rofi/scripts/todo.sh



# ── Screenshots ───────────────────────────────────────────────────────────────

bind = $mainMod, X, exec,  ~/.config/rofi/scripts/ss.sh

bind = ,PRINT, exec, hyprshot -m output -m $(hyprctl monitors -j | jq -r '.[] | select(."focused"==true)' | jq -r '."name"') --clipboard-only
# ── Clipboard ─────────────────────────────────────────────────────────────────



# ── Audio Controls ────────────────────────────────────────────────────────────

bindel = , F11, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel = , F10, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle


# ── Brightness Controls ───────────────────────────────────────────────────────

bindel = , XF86MonBrightnessUp, exec, brightnessctl s 10%+
bindel = , XF86MonBrightnessDown, exec, brightnessctl s 10%-


# ── Media Controls ────────────────────────────────────────────────────────────

bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous


# kitty blur and opactity
windowrulev2 = opacity 0.95, class:^(kitty)$
# ══════════════════════════════════════════════════════════════════════════════
#  END OF CONFIGURATION
# ══════════════════════════════════════════════════════════════════════════════

